{% extends "../base.html" %}

{% block title %}Post List{% endblock %}

{% block content %}
<div class="container-fluid my-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-12 col-lg-12">
            <div class="card border-primary">
                <div class="card-header text-center">
                    <h2 class="text-info">Update Post</h2>
                </div>
                <div class="card-body p-3">
                    <form method="post">
                        {% csrf_token %}
                        <div class="row">
                            <div class="form-group col-md-4 col-lg-4 col-sm-12 mb-3">
                                <label for="title">Title:</label>
                                <input type="text" name="title" value="{{ post.title }}" class="form-control" required>
                            </div>
                            <div class="form-group col-md-4 col-lg-4 col-sm-12 mb-3">
                                <label for="description">Description:</label>
                                <input type="text" name="description" value="{{ post.description }}" class="form-control" required>
                            </div>
                            <div class="form-group col-md-4 col-lg-4 col-sm-12 mb-3">
                                <label for="posted_by">Posted By:</label>
                                <input type="text" name="posted_by" value="{{ post.posted_by_id }}" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group col-md-4 col-lg-4 col-sm-12 mb-3">
                                <label for="type">Type</label>
                                <input type="text" name="type" value="{{ post.type }}" class="form-control" required>
                            </div>
                            <div class="form-group col-md-4 col-lg-4 col-sm-12 mb-3">
                                <label for="content_type">Content Type</label>
                                <input type="text" name="content_type" value="{{ post.content_type }}" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="media_url">Media URL</label>
                                <input type="url" name="media_url" value="{{ post.media_url }}" class="form-control" id="media_url">
                            </div>
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="title">Title</label>
                                <input type="text" name="title" value="{{ post.title }}" class="form-control" id="title" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="description">Description</label>
                                <textarea name="description" class="form-control" id="description" rows="4" required>{{ post.description }}</textarea>
                            </div>
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="accessability">Accessibility</label>
                                <select name="accessability" class="form-control" id="accessability" required>
                                    <option value="1" {% if post.accessability == 1 %}selected{% endif %}>Public</option>
                                    <option value="2" {% if post.accessability == 2 %}selected{% endif %}>Private</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="members">Members</label>
                                <select name="members" class="form-control" id="members" multiple>
                                    <option value="1" {% if '1' in post.member %}selected{% endif %}>Member 1</option>
                                    <option value="2" {% if '2' in post.member %}selected{% endif %}>Member 2</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 col-lg-6 col-sm-12 mb-3">
                                <label for="treat_as">Treat As</label>
                                <select name="treat_as" class="form-control" id="treat_as" required>
                                    <option value="1" {% if post.treat_as == 1 %}selected{% endif %}>Include</option>
                                    <option value="2" {% if post.treat_as == 2 %}selected{% endif %}>Exclude</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group form-check">
                            <input type="checkbox" name="is_active" class="form-check-input" id="is_active" {% if post.is_active %}checked{% endif %}>
                            <label class="form-check-label" for="is_active">Is Active</label>
                        </div>

                        <div class="container my-2">
                            <button class="btn btn-primary btn-sm" type="submit">
                                Update
                            </button>
                            <a class="btn btn-secondary btn-sm text-white" href="{% url 'post_detail' post.id %}">Back</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
